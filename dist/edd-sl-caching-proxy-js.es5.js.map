{"version":3,"file":"edd-sl-caching-proxy-js.es5.js","sources":["../src/edd-sl-caching-proxy-js.ts"],"sourcesContent":["import axios, { AxiosResponse, AxiosPromise } from \"axios\";\n\nexport default class EDDSL {\n  private proxyURL: string;\n  constructor(proxyURL: string) {\n    this.proxyURL = proxyURL;\n  }\n\n  /**\n   * \n   * @param license the EDD License\n   * @param itemId  the item ID that the license belongs too\n   * @param activationId a string representing a unique install or device. EDD uses url\n   */\n  async check(\n    license: string,\n    itemId: string,\n    activationId: string\n  ): Promise<AxiosResponse> {\n    try {\n      return await this.rq(license, itemId, activationId, \"check\");\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async activate(\n    license: string,\n    itemId: string,\n    activationId: string\n  ): Promise<AxiosResponse> {\n    try {\n      return await this.rq(license, itemId, activationId, \"activate\");\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async deactivate(\n    license: string,\n    itemId: string,\n    activationId: string\n  ): Promise<AxiosResponse> {\n    try {\n      return await this.rq(license, itemId, activationId, \"deactivate\");\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  private async rq(\n    license: string,\n    itemId: string,\n    activationId: string,\n    action: string\n  ) {\n    const opts = {\n      method: \"get\",\n      url: `${this.proxyURL}/license/${license}/${action}`,\n      params: {\n        itemId,\n        activationId\n      }\n    };\n\n    const r = await axios(opts);\n    return r.data;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;IAEE,eAAY,QAAgB;QAC1B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC1B;;;;;;;IAQK,qBAAK,GAAX,UACE,OAAe,EACf,MAAc,EACd,YAAoB;;;;;;;wBAGX,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,OAAO,CAAC,EAAA;4BAA5D,sBAAO,SAAqD,EAAC;;;wBAE7D,MAAM,GAAC,CAAC;;;;;KAEX;IAEK,wBAAQ,GAAd,UACE,OAAe,EACf,MAAc,EACd,YAAoB;;;;;;;wBAGX,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC,EAAA;4BAA/D,sBAAO,SAAwD,EAAC;;;wBAEhE,MAAM,GAAC,CAAC;;;;;KAEX;IAEK,0BAAU,GAAhB,UACE,OAAe,EACf,MAAc,EACd,YAAoB;;;;;;;wBAGX,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC,EAAA;4BAAjE,sBAAO,SAA0D,EAAC;;;wBAElE,MAAM,GAAC,CAAC;;;;;KAEX;IAEa,kBAAE,GAAhB,UACE,OAAe,EACf,MAAc,EACd,YAAoB,EACpB,MAAc;;;;;;wBAER,IAAI,GAAG;4BACX,MAAM,EAAE,KAAK;4BACb,GAAG,EAAK,IAAI,CAAC,QAAQ,iBAAY,OAAO,SAAI,MAAQ;4BACpD,MAAM,EAAE;gCACN,MAAM,QAAA;gCACN,YAAY,cAAA;6BACb;yBACF,CAAC;wBAEQ,qBAAM,KAAK,CAAC,IAAI,CAAC,EAAA;;wBAArB,CAAC,GAAG,SAAiB;wBAC3B,sBAAO,CAAC,CAAC,IAAI,EAAC;;;;KACf;IACH,YAAC;CAAA;;;;"}