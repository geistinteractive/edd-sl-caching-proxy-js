{"code":"import * as tslib_1 from \"tslib\";\r\nimport axios from \"axios\";\r\nvar EDDSL = /** @class */ (function () {\r\n    function EDDSL(proxyURL) {\r\n        this.proxyURL = proxyURL;\r\n    }\r\n    /**\r\n     *\r\n     * @param license the EDD License\r\n     * @param itemId  the item ID that the license belongs too\r\n     * @param activationId a string representing a unique install or device. EDD uses url\r\n     */\r\n    EDDSL.prototype.check = function (license, itemId, activationId) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var e_1;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.rq(license, itemId, activationId, \"check\")];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        e_1 = _a.sent();\r\n                        throw e_1;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    EDDSL.prototype.activate = function (license, itemId, activationId) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var e_2;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.rq(license, itemId, activationId, \"activate\")];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        e_2 = _a.sent();\r\n                        throw e_2;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    EDDSL.prototype.deactivate = function (license, itemId, activationId) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var e_3;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.rq(license, itemId, activationId, \"deactivate\")];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        e_3 = _a.sent();\r\n                        throw e_3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    EDDSL.prototype.rq = function (license, itemId, activationId, action) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var opts, r;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        opts = {\r\n                            method: \"get\",\r\n                            url: this.proxyURL + \"/license/\" + license + \"/\" + action,\r\n                            params: {\r\n                                itemId: itemId,\r\n                                activationId: activationId\r\n                            }\r\n                        };\r\n                        return [4 /*yield*/, axios(opts)];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, r.data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return EDDSL;\r\n}());\r\nexport default EDDSL;\r\n//# sourceMappingURL=edd-sl-caching-proxy-js.js.map","map":{"version":3,"file":"edd-sl-caching-proxy-js.js","sourceRoot":"","sources":["src/edd-sl-caching-proxy-js.ts"],"names":[],"mappings":";AAAA,OAAO,KAAsC,MAAM,OAAO,CAAC;AAE3D;IAEE,eAAY,QAAgB;QAC1B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAED;;;;;OAKG;IACG,qBAAK,GAAX,UACE,OAAe,EACf,MAAc,EACd,YAAoB;;;;;;;wBAGX,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,OAAO,CAAC,EAAA;4BAA5D,sBAAO,SAAqD,EAAC;;;wBAE7D,MAAM,GAAC,CAAC;;;;;KAEX;IAEK,wBAAQ,GAAd,UACE,OAAe,EACf,MAAc,EACd,YAAoB;;;;;;;wBAGX,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC,EAAA;4BAA/D,sBAAO,SAAwD,EAAC;;;wBAEhE,MAAM,GAAC,CAAC;;;;;KAEX;IAEK,0BAAU,GAAhB,UACE,OAAe,EACf,MAAc,EACd,YAAoB;;;;;;;wBAGX,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC,EAAA;4BAAjE,sBAAO,SAA0D,EAAC;;;wBAElE,MAAM,GAAC,CAAC;;;;;KAEX;IAEa,kBAAE,GAAhB,UACE,OAAe,EACf,MAAc,EACd,YAAoB,EACpB,MAAc;;;;;;wBAER,IAAI,GAAG;4BACX,MAAM,EAAE,KAAK;4BACb,GAAG,EAAK,IAAI,CAAC,QAAQ,iBAAY,OAAO,SAAI,MAAQ;4BACpD,MAAM,EAAE;gCACN,MAAM,QAAA;gCACN,YAAY,cAAA;6BACb;yBACF,CAAC;wBAEQ,qBAAM,KAAK,CAAC,IAAI,CAAC,EAAA;;wBAArB,CAAC,GAAG,SAAiB;wBAC3B,sBAAO,CAAC,CAAC,IAAI,EAAC;;;;KACf;IACH,YAAC;AAAD,CAAC,AAlED,IAkEC"},"dts":{"name":"/Users/toddgeist/VCS/edd-sl-caching-proxy-js/edd-sl-caching-proxy-js.d.ts","text":"import { AxiosResponse } from \"axios\";\r\nexport default class EDDSL {\r\n    private proxyURL;\r\n    constructor(proxyURL: string);\r\n    /**\r\n     *\r\n     * @param license the EDD License\r\n     * @param itemId  the item ID that the license belongs too\r\n     * @param activationId a string representing a unique install or device. EDD uses url\r\n     */\r\n    check(license: string, itemId: string, activationId: string): Promise<AxiosResponse>;\r\n    activate(license: string, itemId: string, activationId: string): Promise<AxiosResponse>;\r\n    deactivate(license: string, itemId: string, activationId: string): Promise<AxiosResponse>;\r\n    private rq(license, itemId, activationId, action);\r\n}\r\n"}}
